---
title: "Vereinbarkeitssimulator - Auswertung Lebenslage"
output: html_document:
          css: styles.css
---
<h1>
Auswertung Lebenslage
</h1>


<style>
div.blue pre { background-color:#ffeeee; }
.nextsteps {
  color: blue;
}
</style>

```{r, echo=FALSE, results='asis'}
if (FALSE){
cat("<div style='background-color:#ffeeee'>")
} else {
cat("<div style='background-color:#eeeeff'>")
}
```
Diese Zwischenauswertung zeigt die Resultate von Teil 1 "Erfassung der Lebenslage". Diese sind in 3 Kategorien eingeteilt:
</div>

1. Konflikte und Schieflagen: Unzufriedenheiten und Differenzen im aktuellen Zeithandeln 
1. Vereinbarkeitstätigkeiten, welche aktuell angewandt werden  
1. Belastungsfaktoren  

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r load}
Alist <- result_coll$Alist
Glist <- read.csv('./data/Glist_Teil1.csv', sep = ";", stringsAsFactors = FALSE, encoding = "UTF-8")
```

```{r gaps}
gaps_user <- sapply(1:nrow(Glist), function(i) grepl(Alist[i,3], Glist[i,4]))
df <- as.data.frame(Glist[,3][gaps_user], stringsAsFactors = FALSE)
names(df) <- "Gaps"
df <- as.data.frame(unique(df$Gaps), stringsAsFactors = FALSE)
names(df) <- "Gaps"
# DT::datatable(df, rownames = F, colnames = "", options = list(dom='t',ordering=F, pageLength = 20))
```


## Konflikte und Schieflagen: Unzufriedenheiten und Differenzen im aktuellen Zeithandeln

<h2 class="nextsteps">Konflikte und Schieflagen: Unzufriedenheiten und Differenzen im aktuellen Zeithandeln</h2>

```{r differences}
rows <- rule_identify_unzufriedenheiten(df$Gaps)
if (any(rows)) {
  kable(as.data.frame(df[rows, ]),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover")) %>% row_spec(1, background = "#ffeeee")
} else {
  kable(as.data.frame("Keine Differenzen im Zeithandeln und keine Unzufriedenheiten"),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover")) %>% row_spec(1, background = "#ffeeee")
}
```

## Aktuell angewandte Vereinbarkeitstätigkeiten
```{r usemeasures}
rows <- grepl("Vereinbarkeitstätigkeit", df$Gaps)
if (any(rows)) {
  kable(as.data.frame(df[rows, ]),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  kable(as.data.frame("Keine Differenzen im Zeithandeln und keine Unzufriedenheiten"),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover"))
}
```

## Belastungsfaktoren
```{r belastung}
rows <- rule_identify_belastungen(df$Gaps)
if (any(rows)) {
  kable(as.data.frame(df[rows, ]),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  kable(as.data.frame("Aktuell keine Belastungsfaktoren"),row.names = FALSE, col.names = "",  format = "html") %>% kable_styling(bootstrap_options = c("striped", "hover"))
}
```
